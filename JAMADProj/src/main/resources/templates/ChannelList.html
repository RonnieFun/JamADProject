<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="Fragments/layout.html :: headerfiles">
</head>
<meta charset="ISO-8859-1">
<title>Channel List</title>

</head>
<body>
	<h1>Channel List</h1>

	<div class="container">
		<div class="row">
			<div class="container">
				<table class="table">
					<thead>
						<tr>
							<th>Channel Name</th>
							<th>Description</th>
							<th>Channel Type</th>
							<th>Created On</th>
							<th>Videos</th>
							<th>Music</th>
							<th>Actions</th>
						</tr>
					</thead>

					<tbody>
						<tr th:each="ChannelDTO:${ChannelDTOlist}">
							<td> <a th:text=${ChannelDTO.channel.channelName} th:href="@{/artist/channel/{mediatype} (mediatype = ${ChannelDTO.channel.mediaType})}"></a></td>
							<td th:text=${ChannelDTO.channel.channelDescription}></td>
							<td th:text=${ChannelDTO.channel.mediaType}></td>
							<td th:text=${ChannelDTO.channel.createdOn}></td>
							<td th:text=${ChannelDTO.VideoCount}></td>
							<td th:text=${ChannelDTO.MusicCount}></td>
							<td>
								<button type="button" class="btn btn-info btn-lg"
									data-bs-toggle="modal" data-bs-target="#myModal"
									th:attrappend="data-bs-target=${ChannelDTO.channel.channelID}">Edit Channel</button>

								<div class="modal fade" id="myModal" role="dialog"
									th:attrappend="id=${ChannelDTO.channel.channelID}">
									<div class="modal-dialog">

										<!-- Modal content-->
										<div class="modal-content">
											<div class="modal-header">
												<h1>Edit Channel</h1>
											</div>
											<form action="#" th:action="@{/artist/channel/editchannel}"
												method="post" modelAttribute="channel">
												<div class="modal-body">
												
												<input id="channelID"  name="channelID" type="hidden"
                                                           placeholder="channelID" class="form-control input-md"
                                                           th:value="${ChannelDTO.channel.channelID}"/>

													<label>Name*:</label> 
													<input id="channelName" 
														name="channelName" type="text" required placeholder="Name"
														class="form-control input-md"
														th:value="${ChannelDTO.channel.channelName}" /> 
														
													<label>Description:</label>
													<input id="channelDescription"  name="channelDescription" type="text"
														placeholder="channelDescription" class="form-control input-md"
														th:value="${ChannelDTO.channel.channelDescription}" />


												</div>

												<div class="modal-footer">
													<button type="submit">Submit</button>
													<button type="button" class="btn btn-default"
														data-bs-dismiss="modal">Close</button>

													<div th:if="${message}" th:text="${message}"
														th:class="${'alert ' + alertClass}" /></div>
												</div>
											</form>



										</div>

									</div>
								</div>
							</td>

						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>


</body>



</html>